---
import StarRating from "./StarRating.astro";

type Review = {
  age: string;
  rating: number;
  body: string;
  studyPeriod?: string | null;
};

type Props = {
  title: string;
  items: Review[];
};

const { title, items } = Astro.props satisfies Props;
---

<section class="mt-4 rounded-2xl border border-zinc-200 bg-white p-4 shadow-sm">
  <h4 class="text-base font-extrabold text-zinc-900">{title}</h4>
  <div class="mt-3 grid gap-3">
    {items.slice(0, 3).map((r) => (
      <article class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
        <div class="flex items-center justify-between gap-3">
          <div class="text-sm font-extrabold text-zinc-800">
            {r.age}
            {r.studyPeriod && (
              <span class="ml-2 text-xs font-normal text-zinc-500">
                (学習期間 {r.studyPeriod})
              </span>
            )}
          </div>
          <div class="flex items-center gap-2">
            <StarRating value={r.rating} />
          </div>
        </div>
        <p class="mt-2 text-sm leading-relaxed text-zinc-700">{r.body}</p>
      </article>
    ))}
  </div>
</section>

