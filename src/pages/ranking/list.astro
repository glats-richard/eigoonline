---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

export const prerender = true;

const categories = await getCollection("categories");
const catLevel = categories.filter((c) => c.data.group === "level").map((c) => c.data);
const catAge = categories.filter((c) => c.data.group === "age").map((c) => c.data);
const catReco = categories.filter((c) => c.data.group === "recommend").map((c) => c.data);
---

<Layout title="ランキング一覧" description="目的別・カテゴリ別のランキング一覧です。" headerOverlay>
  <main class="mx-auto w-full max-w-6xl px-4 pb-12 pt-10">
    <h1 class="text-2xl font-extrabold text-zinc-900">ランキング一覧</h1>
    <p class="mt-2 text-sm font-semibold text-zinc-600">目的別・カテゴリ別にランキングページへ移動できます。</p>

    <section class="mt-8 grid gap-6 lg:grid-cols-3">
      <div class="rounded-2xl border border-zinc-200 bg-white p-5 shadow-sm">
        <h2 class="text-lg font-extrabold text-zinc-900">おすすめ</h2>
        <div class="mt-4 grid gap-2">
          {catReco.map((c) => (
            <a class="rounded-xl bg-zinc-50 px-4 py-3 text-sm font-extrabold text-sky-800 ring-1 ring-zinc-200 hover:bg-white" href={c.href}>
              {c.title} →
            </a>
          ))}
        </div>
      </div>
      <div class="rounded-2xl border border-zinc-200 bg-white p-5 shadow-sm">
        <h2 class="text-lg font-extrabold text-zinc-900">年代・属性</h2>
        <div class="mt-4 grid gap-2">
          {catAge.map((c) => (
            <a class="rounded-xl bg-zinc-50 px-4 py-3 text-sm font-extrabold text-sky-800 ring-1 ring-zinc-200 hover:bg-white" href={c.href}>
              {c.title} →
            </a>
          ))}
        </div>
      </div>
      <div class="rounded-2xl border border-zinc-200 bg-white p-5 shadow-sm">
        <h2 class="text-lg font-extrabold text-zinc-900">レベル</h2>
        <div class="mt-4 grid gap-2">
          {catLevel.map((c) => (
            <a class="rounded-xl bg-zinc-50 px-4 py-3 text-sm font-extrabold text-sky-800 ring-1 ring-zinc-200 hover:bg-white" href={c.href}>
              {c.title} →
            </a>
          ))}
        </div>
      </div>
    </section>

    <div class="mt-10">
      <a class="inline-flex items-center rounded-xl bg-sky-600 px-4 py-2 text-sm font-extrabold text-white" href="/">
        トップへ戻る
      </a>
    </div>
  </main>
</Layout>

